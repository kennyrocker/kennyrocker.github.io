function t(){this.debounce=(t,e=150)=>{let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>t.apply(this,s),e)}},this.updateVhUnit=()=>{const t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)};const t=document.querySelector(".parallax"),e=document.querySelector(".arrow.down"),i=document.querySelector(".arrow.up"),s=document.querySelectorAll(".stop"),o=document.querySelectorAll(".stop .info");this.propsObj={parllaxEleCountNum:10,parallaxNum:.7,transTimeNum:1e3,pointerNum:0,currentPanelId:0,parallaxOffsetNum:50,resizeTimeout:!1,resizeDelta:200,parallaxEleTopArr:[],triggerArr:[],stopHeightNum:void 0,contentHeightNum:void 0,contentWidthNum:void 0,initPointerHeightNum:void 0,initScrollNum:void 0,stopCountNum:void 0,lastPanelEq:void 0,compareTime:void 0,mobileBreakPoint:740},this.setProps=()=>{const t=document.querySelector(".content");this.propsObj.stopHeightNum=s[0].offsetHeight,this.propsObj.contentHeightNum=t.offsetHeight,this.propsObj.contentWidthNum=t.offsetWidth,this.propsObj.initPointerHeightNum=this.propsObj.stopHeightNum/2,this.propsObj.initScrollNum=this.propsObj.stopHeightNum/2,this.propsObj.stopCountNum=s.length,this.propsObj.lastPanelEq=s.length-1},this.drawStage=()=>{const t=document.querySelector(".pointer"),e=document.querySelectorAll(".mark");t.style.height=this.propsObj.initPointerHeightNum-13+"px",e.forEach(t=>{t.style.marginTop=this.propsObj.initPointerHeightNum+"px"})},this.setTriggers=()=>{s.forEach(t=>{const e=t.offsetTop;this.propsObj.triggerArr.push(e)})},this.drawParallax=()=>{this.drawParallaxElements(this.propsObj.parllaxEleCountNum),this.initParallaxEleTopArr();const t=document.querySelector(".element"),e=this.propsObj.contentWidthNum-t.offsetWidth;document.querySelectorAll(".parallax .element").forEach((t,i)=>{t.style.left=this.getRandomInt(0,e)+"px",t.style.top=this.propsObj.parallaxEleTopArr[i]+"px"})},this.drawParallaxElements=e=>{let i="";for(let t=0;t<e;t++)i+="<div id='ele_"+t+"' class='element'></div>";t.innerHTML=i},this.initParallaxEleTopArr=()=>{const t=this.propsObj.contentHeightNum/this.propsObj.parllaxEleCountNum,e=this.propsObj.parallaxOffsetNum;for(let s=0;s<this.propsObj.parllaxEleCountNum;s++){var i=Math.floor(this.getRandomInt(t*s,t*s+e));this.propsObj.parallaxEleTopArr.push(i)}},this.manageParallax=()=>{let e=0-(this.propsObj.pointerNum-this.propsObj.initPointerHeightNum)*this.propsObj.parallaxNum;t.style.top=e+"px"},this.manageControl=()=>{0===this.propsObj.currentPanelId?(i.classList.add("hidden"),e.classList.remove("hidden")):-1===this.propsObj.currentPanelId?(e.classList.add("hidden"),i.classList.remove("hidden")):(e.classList.remove("hidden"),i.classList.remove("hidden"))},this.maintainState=()=>{const t=this.propsObj.pointerNum,e=this.propsObj.triggerArr,i=this.propsObj.lastPanelEq;if(t>0&&t<e[1])this.managePanel(0),this.propsObj.currentPanelId=0;else if(t>e[i])this.managePanel(-1),this.propsObj.currentPanelId=-1;else for(let s=1;s<i;s++)t>e[s]&&t<e[s+1]&&(this.managePanel(s),this.propsObj.currentPanelId=s)},this.managePanel=t=>{this.propsObj.currentPanelId!==t&&this.displayPanel(t)},this.displayPanel=t=>{-1===t&&(t=this.propsObj.lastPanelEq);const e=`${this.propsObj.transTimeNum}ms ease`;o.forEach((i,s)=>{s===t?i.classList.contains("visible")||(i.style.display="block",requestAnimationFrame(()=>{i.classList.add("visible"),i.style.transition=`opacity ${e}`,i.style.opacity="1"})):i.classList.contains("visible")&&(i.classList.remove("visible"),i.style.transition=`opacity ${e}`,i.style.opacity="0",setTimeout(()=>{i.classList.contains("visible")||(i.style.display="none")},this.propsObj.transTimeNum))})},this.initInterval=()=>{const t=this;window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},function e(){requestAnimFrame(e),t.renderFrame()}()},this.renderFrame=()=>{if(window.innerWidth<=this.propsObj.mobileBreakPoint)return;const t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e=this.propsObj.initScrollNum+t;this.propsObj.pointerNum=e,this.maintainState(),this.manageParallax(),this.manageControl()},this.getRandomInt=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,this.init=()=>{this.updateVhUnit(),this.debouncedVh=this.debounce(this.updateVhUnit,100),this.setProps(),this.drawStage(),this.setTriggers(),this.drawParallax(),this.initInterval(),this.addEvents(),this.displayPanel(this.propsObj.currentPanelId)},this.scrollNextStop=()=>{let t;t=-1!==this.propsObj.currentPanelId?this.propsObj.currentPanelId+1:this.propsObj.lastPanelEq+1,t<=this.propsObj.lastPanelEq&&window.scrollTo({top:this.propsObj.triggerArr[t],behavior:"smooth"})},this.scrollPreviousStop=()=>{let t;t=-1===this.propsObj.currentPanelId?this.propsObj.lastPanelEq-1:this.propsObj.currentPanelId-1,t>=0&&window.scrollTo({top:this.propsObj.triggerArr[t],behavior:"smooth"})},this.addEvents=()=>{this.removeEvents(),e.addEventListener("click",this.scrollNextStop),i.addEventListener("click",this.scrollPreviousStop),window.addEventListener("resize",this.debouncedVh),window.addEventListener("scroll",this.debouncedVh),window.addEventListener("beforeunload",this.boundBeforeUnload)},this.removeEvents=()=>{e.removeEventListener("click",this.scrollNextStop),i.removeEventListener("click",this.scrollPreviousStop),window.removeEventListener("resize",this.debouncedVh),window.removeEventListener("scroll",this.debouncedVh),window.removeEventListener("beforeunload",this.boundBeforeUnload)},this.boundBeforeUnload=()=>this.removeEvents(),this.init()}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}(),document.addEventListener("DOMContentLoaded",()=>{new t});
